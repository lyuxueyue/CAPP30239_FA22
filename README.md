# CAPP30239_FA22

<h1><a href="https://lyuxueyue.github.io/CAPP30239_FA22/final_project/">Final Project</a>: Covid-19 Impact on Renewable Electricity</h1>
<h2>Intro of the final project</h2>
<li>Find index.html <a href="https://github.com/lyuxueyue/CAPP30239_FA22/blob/main/final_project/index.html">here</a></li>
<li>Find css folder <a href="https://github.com/lyuxueyue/CAPP30239_FA22/blob/main/final_project/css">here</a>, including style.css file</li>
<li>Find js folder <a href="https://github.com/lyuxueyue/CAPP30239_FA22/blob/main/final_project/js">here</a>, including 3 javascript files and 1 reference js file</li>
<li>Find data folder <a href="https://github.com/lyuxueyue/CAPP30239_FA22/blob/main/final_project/data">here</a>, including 3 csv files and 1 geojson file</li>

<h2>Storyline</h2>
<p>
Do you know the proportion of electricity coming from renewables that we consumed every day? 
</p>
The answer depends on the place you live in. If you are in Kyrgyzstan, you will find the renewables generated by the country is 3 times more than the electricity it consumed in 2020. 
<p>
In contrast, if you reside in Libya, you will find that the total electricity consumption is more than 3000 times renewable generation. We should not be surprised about that since the electricity generated from a renewable source in the country in 2020 is just 0.008 billion/kwh.
</p>
<p>
Before we dive into the topic, let’s discuss the definition of renewable sources. In general, renewable sources include solar power, wind, hydro-electric, geothermal and biofuel. The reason that we pay special attention to non-hydroelectricity is that we can hardly see new hydroelectric dams built on earth as it is a very old renewable source. Hence, we make non-hydroelectricity as an alternative.
</p>
<p>
The history of non-hydro clean energy is not long. It is from 2010 that the world electricity generated from non-hydro sources just cross the line of 1000 billion/kwh. Though being a small proportion, the trend in renewable electricity is promising. In 2019, electricity generated from fossil dropped for the first time. Observers expected 2020 to be another record year of renewables. However, the outbreak of Covid-19 paused the development of renewables.
Data indicates that 2020 is a lost year for lots of countries. Nearly 20% of the countries have less renewable generation in electricity compared with 2019, and another 20% make no progress in the field. The impact of Covid-19 does exist.
</p>
<p>
To have a close look, the group line charts visualize 9 countries randomly picked all over the world. Zambia was the only developing country among the selected ones that relies on renewable sources for more than 85% of its electricity. The ratio gets even higher after 2020. We also see a slight increase in renewable electricity in China and Mexico, although relatively smaller than the total generation. While having a steady electricity generation and consumption, New Zealand has a significantly higher proportion of renewable electricity compared with Argentina and the United States. Renewable electricity generation in Belgium and Turkey have stepped down in 2021.
</p>
<p>
The world map allows us to check the data of the chosen country if it is available. The choropleth projects the ratio of total consumption over the renewable generation of electricity onto the world map. Checking the legend and the corresponding labels, it is easy to find that the electricity generation and consumption situations vary greatly among countries, which verifies the diverse energy structure globally. 
</p>
<p>
For countries with less renewable generated electricity in 2020, we observe that almost 80% of them recovered from the Covid-19 impact as renewable generation shows a net increase in 2021. It explains that the impact of Covid-19 and the lockdown policy is temporary for these countries. Notice that in several countries, Covid-19 periods have seen new highs in renewables contribution as a share of electricity. They are Australia, Spain, Iceland, and so on. Several factors lead to the consequence, and perhaps part of the reason is the change in the demand patterns related to economic activity. Further research is needed to complete the explanation.
</p>
<p>
Overall, we cannot ignore the impact of Covid-19, but its influence on renewable electricity is limited. Almost half countries in the world have been affected by the pandemic and the lock down policy to some extent. Yet we are glad to see most of them managed to recover to the 2019 level. 
</p>

<h2>Process Section</h2>
<h3>Why this topic</h3>
We all are witnesses to how many changes Covid-19 brings to our life. The outbreak of Covid-19 leaves many cities in a state of isolation in 2020. The lockdown policy further aggravated the situation. Strict restriction of having outdoor activities limits the energy demand. Considering that, we have reason to believe that world consumption of energy dropped during Covid-19 compared with preceding years. If so, which type of energy did we generate or consume less? To put it more specifically, how’s the performance of clean energy? Did the pandemic impact the growth of renewable energy? With that question, I conducted this data visualization project. To narrow down the discussion, I choose electricity as the focus in the detailed data inspection.


<h3> Data Processing </h3>
<h4> Data preparation</h4>

<p>I hope to find a dataset containing comprehensive information on both supply and demand side of electricity. </p>
<p>
Among the institutions providing data from both sides around the world, International Energy Agency (IEA) has all-inclusive measures of renewable energy <a href="https://www.iea.org/data-and-statistics/data-sets/?filter=renewables">(Renewable Information)</a> but charges a huge fee that students cannot afford. </p>
<p>Hence, my final choice is U.S. Energy Information Administration ( <a href="https://www.eia.gov/">EIA</a>). Although EIA does not have a specified amount of renewable electricity consumption, total electricity consumption data for each country is available on the website.
</p>

<h4>Data cleaning</h4> 

The data wrangling was processed on Jupiter notebook in python language. The original dataset downloaded from EIA is dirty. The data table looks just like it shows on the website: all the variables except the year share the same column. It does not distinguish each country and corresponding measures of electricity. In consequence, the datatype is an “object” for all the variables, some even containing special string characters. Besides, a messy trouble is that around 20 countries in the dataset have multiple observations complicating each other. 

To tidy the data, I first filter out the country name as an independent column and then strip out all the special characters occurring in the data frame. For conflicting observations, I sort out a table to check the data and finally decided to save only the first one if multiple records exist.
I also add the iso3 code using the package of pycountries for the convenience of projecting choropleth in JavaScript. 

<h4>Data visualization</h4> 

The types of three charts chosen are the stack area plot, the group line plot as well as the choropleth world map. The area chart is the first one. In case some of the audience might not know well about the field of clean energy, the area plot gives them a basic knowledge of what is going on in the decades. They could check the explicit number of electricity generation for each year with a tooltip.

The second chart, the group line chart gives the audience a detailed look at certain countries. To make the sample more representative, I pick 9 different countries with diverse geographic locations and economic backgrounds. Then I arranged these charts in a 3 by 3 grid for better visualization.

In the end, the choropleth map visualizes the ratio of total electricity consumption over a renewable generation in 2021. A tooltip is also added for the audience to scan the data of the previous year for each country. Not all countries have 2021 data available now, leading to large grey area showing “undefined data” on the map, which might be a shortfall for data visualization. 

<h4>Obstacles</h4>
The biggest hurdle for me is to set the tooltip in the stack area plot. It is the part of appending the line scrolling with the mouse that I found challenging. The solution refers to Mike Bostock. Another obstacle I came up against is adding a dropdown of year options in HTML and synchronously changing the variable projected for the choropleth. I would like the audience to walk through the changes in the ratio by choosing freely from years. However, I kept having problems with “promise uncaught” when trying to load the data directly. The failure to promise made it impossible to change the variable into the selected option. Therefore, I choose to show the data of previous years in text with the tooltip.
